# 已審核篩選功能說明

## 📝 功能概述

新增了「已審核」篩選功能,讓使用者可以在列表頁面篩選已經看過的漫畫/Gallery作品,區分「收藏」和「已審核」兩種狀態。

## 🎨 介面修改

### 1. 閱讀器頁面 (Reader)

**只有收藏按鈕:**

```
工具列右側:
[⭐ 收藏] [頁碼資訊]
```

- 收藏按鈕: ☆ (空心星) / ★ (實心星)
- 金色 (#ffd700)
- Hover 效果: 放大 1.2 倍

### 2. 列表頁面 (Index)

**篩選列包含已審核選項:**

```
篩選列:
[全部] [⭐ 收藏] [☑ 已審核] [🆕 未審核]
```

## ⚙️ 功能邏輯

### 狀態設計

三種狀態,通過列表頁面的篩選按鈕管理:

1. **收藏 (favorite)**
   - 在閱讀器頁面點擊收藏按鈕 → 設為收藏
   - 再次點擊收藏按鈕 → 改為未審核

2. **已審核 (reviewed)**
   - 需要通過其他方式標記(如批量操作、API等)
   - 用於標記已經看過但不收藏的作品

3. **未審核 (unreviewed)**
   - 初始狀態
   - 取消收藏後的狀態

### 按鈕行為

**收藏按鈕 (⭐) - 僅在閱讀器頁面:**
- 當前是收藏 → 點擊 → 改為未審核 (空心星)
- 當前不是收藏 → 點擊 → 改為收藏 (實心星)

## 📁 修改的檔案

### 漫畫模組

1. **src/modules/manga/templates/manga/reader.html**
   - 新增 `.reviewed-btn` 樣式
   - 新增已審核按鈕 HTML

2. **src/static/js/manga/reader.js**
   - 新增 `reviewedBtn` 和 `reviewedCheck` 元素
   - 新增 `toggleReviewed()` 方法
   - 新增 `updateReviewedButton()` 方法
   - 修改 `loadFavoriteStatus()` 載入已審核狀態
   - 修改 `toggleFavorite()` 互斥邏輯

3. **src/modules/manga/templates/manga/index.html**
   - 新增「☑ 已審核」篩選按鈕

### Gallery 模組

1. **src/modules/gallery/templates/gallery/reader.html**
   - 新增 `.reviewed-btn` 樣式
   - 新增已審核按鈕 HTML

2. **src/static/js/gallery/reader.js**
   - 新增 `reviewedBtn` 和 `reviewedCheck` 元素
   - 新增 `toggleReviewed()` 方法
   - 新增 `updateReviewedButton()` 方法
   - 修改 `loadFavoriteStatus()` 載入已審核狀態
   - 修改 `toggleFavorite()` 互斥邏輯

3. **src/modules/gallery/templates/gallery/index.html**
   - 新增「☑ 已審核」篩選按鈕

## 💾 資料儲存

狀態資料儲存在 `data/status.json`:

```json
{
  "manga": {
    "favorite": ["作品1", "作品2"],
    "reviewed": ["作品3", "作品4"]
  },
  "gallery": {
    "favorite": ["作品A"],
    "reviewed": ["作品B", "作品C"]
  }
}
```

## 🎯 使用場景

1. **收藏 (favorite)**: 特別喜歡,想要反覆閱讀的作品 - 在閱讀器中點擊⭐按鈕
2. **已審核 (reviewed)**: 已經看過,不需要再看但想記錄的作品 - 通過其他方式標記
3. **未審核 (unreviewed)**: 還沒看過或想要重置狀態的作品

## 🔄 篩選功能

在列表頁面可以按狀態篩選:

- **全部**: 顯示所有作品
- **⭐ 收藏**: 只顯示收藏的作品
- **☑ 已審核**: 只顯示已審核的作品
- **🆕 未審核**: 只顯示未審核的作品

## 🎨 視覺設計

- **收藏按鈕**: 金色 (#ffd700) - 代表珍貴
- **懸浮效果**: 放大 1.2 倍,提升互動感
- **載入狀態**: 透明度 0.5,禁止點擊

## 📌 注意事項

- **閱讀器頁面**: 只有收藏按鈕,沒有已審核按鈕
- **列表頁面**: 可以篩選已審核的項目
- **狀態管理**: 「已審核」狀態需要通過其他方式設定(如批量操作、API等)

## 更新時間

2026-01-11
