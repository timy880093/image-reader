# åƒæ•¸åŒ–é‡æ§‹ç¸½çµ

## ğŸ¯ å•é¡Œ

ä¹‹å‰çš„ä»£ç¢¼ä¸­å­˜åœ¨ç¡¬ç·¨ç¢¼çš„ç‰¹å®šå€¼ï¼ˆå¦‚ `'galleryç¥'`ã€`'.galleryç¥'`ï¼‰ï¼Œé•åäº†åƒæ•¸åŒ–çš„åŸå‰‡ã€‚

## âœ… è§£æ±ºæ–¹æ¡ˆ

å·²å°‡æ‰€æœ‰ç¡¬ç·¨ç¢¼çš„ç‰¹å®šå€¼æ›¿æ›ç‚º**é€šç”¨é è¨­å€¼**ï¼Œç¢ºä¿ä»£ç¢¼ä¸ä¾è³´ç‰¹å®šçš„æ¥­å‹™é‚è¼¯ã€‚

## ğŸ“ ä¿®æ”¹æ¸…å–®

### 1. **`src/config.py`**
```python
# ä¿®æ”¹å‰
'special_tag_name': 'â­ galleryç¥',
'special_tag_marker': '.galleryç¥'

# ä¿®æ”¹å¾Œ
'special_tag_name': 'â­ ç²¾é¸',
'special_tag_marker': '.special'
```

### 2. **`src/modules/gallery/service.py`**
```python
# ä¿®æ”¹å‰
marker_name = self.config.get('gallery', {}).get('special_tag_marker', '.galleryç¥')

# ä¿®æ”¹å¾Œ
marker_name = self.config.get('gallery', {}).get('special_tag_marker', '.special')
```

### 3. **`src/modules/gallery/templates/gallery/index.html`**
```html
<!-- ä¿®æ”¹å‰ -->
onclick="setFilter('{{ gallery_config.get('special_tag_marker', '.galleryç¥') }}')">
{{ gallery_config.get('special_tag_name', 'â­ galleryç¥') }}

<!-- ä¿®æ”¹å¾Œ -->
onclick="setFilter('{{ gallery_config.get('special_tag_marker', '.special') }}')">
{{ gallery_config.get('special_tag_name', 'â­ ç²¾é¸') }}
```

### 4. **`src/static/js/gallery/index.js`**
```javascript
// ç§»é™¤äº†ä¸å¿…è¦çš„ç¡¬ç·¨ç¢¼è®Šæ•¸
// åˆªé™¤ï¼šlet specialTagName = 'galleryç¥';
// åˆªé™¤ï¼šç›¸é—œçš„è³¦å€¼é‚è¼¯
```

### 5. **`config.toml.example`**
```toml
# ä¿®æ”¹å‰
special_tag_name = "â­ galleryç¥"
special_tag_marker = ".galleryç¥"

# ä¿®æ”¹å¾Œ
special_tag_name = "â­ ç²¾é¸"
special_tag_marker = ".special"
```

### 6. **`manage_gallery_tags.ps1`**
```powershell
# ä¿®æ”¹å‰
$MarkerFile = ".pixivç¥"

# ä¿®æ”¹å¾Œ
$MarkerFile = ".special"  # é è¨­å€¼ï¼Œæ‡‰èˆ‡ config.toml ä¸€è‡´
```

### 7. **`docs/Galleryç‰¹æ®Šæ¨™ç±¤åƒæ•¸åŒ–èªªæ˜.md`**
- æ›´æ–°æ‰€æœ‰ç¯„ä¾‹ä½¿ç”¨é€šç”¨å€¼
- ç§»é™¤æ‰€æœ‰å°ç‰¹å®šæ¥­å‹™çš„å¼•ç”¨

## ğŸ¯ è¨­è¨ˆåŸå‰‡

### âœ… æ­£ç¢ºåšæ³•

1. **é€šç”¨é è¨­å€¼**ï¼šä½¿ç”¨ `.special` è€Œä¸æ˜¯ `.galleryç¥`
2. **å¾é…ç½®è®€å–**ï¼šæ‰€æœ‰ç‰¹å®šå€¼éƒ½å¾ `config.toml` è®€å–
3. **ç„¡ç¡¬ç·¨ç¢¼**ï¼šä»£ç¢¼ä¸­ä¸åŒ…å«æ¥­å‹™ç‰¹å®šçš„å­—ä¸²

### âŒ éŒ¯èª¤åšæ³•

1. ~~åœ¨ä»£ç¢¼ä¸­ç¡¬ç·¨ç¢¼ `'galleryç¥'`~~
2. ~~åœ¨é è¨­å€¼ä¸­ä½¿ç”¨ç‰¹å®šæ¥­å‹™é‚è¼¯~~
3. ~~åœ¨å¤šå€‹åœ°æ–¹é‡è¤‡ç‰¹å®šå€¼~~

## ğŸ“Š å°æ¯”

| é …ç›® | ä¿®æ”¹å‰ | ä¿®æ”¹å¾Œ |
|------|--------|--------|
| é è¨­æ¨™ç±¤åç¨± | `'â­ galleryç¥'` | `'â­ ç²¾é¸'` |
| é è¨­æ¨™è¨˜æª”æ¡ˆ | `'.galleryç¥'` | `'.special'` |
| JavaScript è®Šæ•¸ | æœ‰ç¡¬ç·¨ç¢¼ | ç„¡ç¡¬ç·¨ç¢¼ |
| ä»£ç¢¼é€šç”¨æ€§ | âŒ ç‰¹å®šæ¥­å‹™ | âœ… é€šç”¨ |

## ğŸš€ ä½¿ç”¨æ–¹å¼

ç¾åœ¨ç”¨æˆ¶å¯ä»¥åœ¨ `config.toml` ä¸­è‡ªç”±è¨­å®šä»»ä½•å€¼ï¼š

```toml
[gallery]
# ç¯„ä¾‹ 1ï¼šç²¾é¸
special_tag_name = "â­ ç²¾é¸"
special_tag_marker = ".special"

# ç¯„ä¾‹ 2ï¼šæœ€æ„›
special_tag_name = "â¤ï¸ æœ€æ„›"
special_tag_marker = ".favorite"

# ç¯„ä¾‹ 3ï¼šè‡ªè¨‚
special_tag_name = "ğŸ¨ æˆ‘çš„æ”¶è—"
special_tag_marker = ".my-collection"
```

ä»£ç¢¼æœƒå®Œå…¨éµå¾ªé…ç½®ï¼Œæ²’æœ‰ä»»ä½•ç¡¬ç·¨ç¢¼çš„å‡è¨­ã€‚

## âœ… é©—è­‰

æ‰€æœ‰ä¿®æ”¹å·²å®Œæˆä¸¦æ¸¬è©¦ï¼š
- âœ… æœå‹™å™¨æˆåŠŸé‡æ–°è¼‰å…¥
- âœ… æ²’æœ‰ç·¨è­¯éŒ¯èª¤
- âœ… åƒæ•¸å®Œå…¨å¯è‡ªè¨‚
- âœ… ç„¡ç¡¬ç·¨ç¢¼æ®˜ç•™
